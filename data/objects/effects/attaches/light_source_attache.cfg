{
id: "light_source_attache",
prototype: ["effects_attache"],
	zorder: "@include data/zorder.cfg:shadow_overlay",

/*
	This does NOT create a light bloom or anything (although the sprite being used for this is functionally similar).
	
	This instead provides a mask that gets applied to a black overlay that covers the level when a level's designated as "dark".
	Levels are designated as "dark" by simply having a `shadow_effect_controller` on them, anywhere.
	
	This is just a simple sprite attache, but by having it at a very particular zorder, it gets picked up by a shader that does the special behavior.
*/


properties: {
	//_sprite_type: { type: "string", dynamic_initialization: true },

	//do_setup: "commands :: [initialize_position, set(animation, _sprite_type)]",
},
		
		
			
on_end_anim: "set(animation, animation)",		
			
			
animation: [{
	"@base": true,
	no_remove_alpha_borders: true,
	frames: 1,
	pad: 3,
},{
	id: "normal",
//	image: "experimental/shader-shadow-test/circular-32x32-opaque.png",
	image: "effects/light-blooms/matted-onto-black/linear-from-75pct.png",
	rect: [0,0,255,255],
	duration: -1,
	scale: 2,
	
	blend: ["one","one"],
}]
}