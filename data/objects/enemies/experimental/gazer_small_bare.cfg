{
id: "gazer_small_bare",
prototype: ["gazerlet"],


properties: {
	physical_size: "int :: 24",
	
	#-------------------------- spawn animation --------------------------#
	do_spawn_anim: "[
		set(last_triggered_spawn_anim, cycle),
		set(scale, 3),
	]",
	
	process_spawn: "[
		set(scale, (3 - 2 * final_val)),
		//set(alpha, lib.math.round(final_val * 255)), 
	]
		where final_val = dump(lib.math.ease_out_elastic(fraction))
		where fraction = (cycle - last_triggered_spawn_anim)/spawn_length
	",
	
	spawn_length: "150.0",
	
	last_triggered_spawn_anim: { type: "int", init: "0" },
	
	is_doing_spawn_animation: "bool :: (cycle - last_triggered_spawn_anim) < spawn_length",
	

	#-------------------------- core processing --------------------------#
	handle_specialized_creature_category_processing: "commands :: [
		if(is_doing_spawn_animation,
			process_spawn,
			set(rotate, sin(cycle*7) * 4.0)
		)
	]",

	turn_cooldown: "100",
},


animation: [
	{
		"@base": true,
		image: "enemies/gazer-grey-small.png",
	},{
		id: "fly",
		rect: [1,1,39,39],
		frames: 3,
	},{
		id: "fly_aggro",
		rect: [1,45,39,83],
		frames: 6,
		frames_per_row: 3,
	},{
		id: "turn",
		rect: [1,132,39,170],
		frames: 3,
		duration: 8,
	},{
		id: "turn_aggro",
		rect: [43,87,81,125],
		frames: 2,
	},{
		id: "hurt",
		rect: [1,45,39,83],
		frames: 1,
	},{
		id: "burning",
		image: "enemies/gazer-grey-small-harmless.png", #Override image base above.
	},
],


object_type: [
	{
		id: "thrown",
		prototype: ["throwable_small_enemy"],
		properties: {
			taxonomy: "TaxonomyType :: enum stone",
		},
		animation: [
			{
				image: "enemies/gazer-grey-small.png",
				id: "thrown",
				thrown_area: "all",
				duration: 60,
				rect: [45,89,69,116],
				frames: 1,
				body_area: null,
			},
			{
				image: "enemies/gazer-grey-small.png",
				id: "on_back",
				rect: [45,89,69,116],
				frames: 1,
				duration: 5,
				body_area: "all",
			},
		],
	},
],

}
